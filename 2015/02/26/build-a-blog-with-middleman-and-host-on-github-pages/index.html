<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link href="/stylesheets/base-3cb56d2c.css" rel="stylesheet" type="text/css" />
  <title>SWAPP.SEXY - Build a Blog with Middleman and Host on Github Pages</title>
  <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />

  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-60130365-1', 'auto');
      ga('send', 'pageview');

  </script>
</head>
<body>
<div class="overlay overlay-door">
  <button class="overlay-close">Close</button>
    <nav>
      <ul class="menu">
        <li><a href="/">HOME</a></li>
        <li><a href="/about">ABOUT</a></li>
      </ul>
    </nav>
</div>
<div class="bg-1">
<a id="trigger-overlay" class="button button--wayra button--border-medium button--text-upper button--size-s button--text-thick button--inverted">
 <i class="fa fa-bars"></i>
</a>
</div>

<div id="main" role="main">
  <div class="container">
    <div class="row">
      <div class="nine columns blog-content">
        <h1>Build a Blog with Middleman and Host on Github Pages</h1>

<p>For a long time I&rsquo;ve been thinking about making the switch to a static site generator and have finally done it! I used Middleman to build this blog and I think that explaining how I built it would make for a great post. Let&rsquo;s get to it.</p>

<p></p>

<h2>Installing Middleman</h2>

<p>In order to begin you need to have Ruby installed. If you are on a Mac, ruby should already be installed. If you are on Windows, you will need to install it. Getting Ruby set up is outside the scope of this tutorial so I won&rsquo;t be going over it. However, a quick google search will lead you to a lot of resources on how to do it.</p>

<p>Open your terminal and enter the following:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ gem install middleman
</pre></td></tr></tbody></table>
</div>

<p>While Middleman is great for static sites, I am using it for a blog so we will need to add the middleman-blog gem as well.</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ gem install middleman-blog
</pre></td></tr></tbody></table>
</div>

<p>Before we can begin, you will need to setup a Github account if you have not done so already. Go <a href="https://github.com">here</a> and set up an account. You will next need to create a repository that Github will recognize as the repository that has the files you want to host on Github Pages. This next part is important. The name of your repository should have the following format:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre> &lt;account-name&gt;.github.io
</pre></td></tr></tbody></table>
</div>

<p>My github username is ryanswapp so mine would be:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre> ryanswapp.github.io
</pre></td></tr></tbody></table>
</div>

<p>Once you have that set up it is time to begin. Make a directory wherever you want to store your blog and cd into it.</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ cd /path/to/your/middleman/directory
</pre></td></tr></tbody></table>
</div>

<p>Our next step is to initialize the Middleman app and cd into the directory.</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre>$ middleman init ryanswapp.github.io --template=blog
$ cd ryanswapp.github.io
</pre></td></tr></tbody></table>
</div>

<p>I used the <code>--template=blog</code> argument so that the middleman generator would scaffold our project specifically for a blog. The template comes from the middleman-blog gem we added earlier.</p>

<p>Middleman will have created a Gemfile for you and it should look something like this:</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7</pre></td><td class="code"><pre><span class="n">source</span> <span class="s1">'http://rubygems.org'</span>

<span class="n">gem</span> <span class="s2">"middleman"</span><span class="p">,</span> <span class="s2">"~&gt; 3.3.9"</span>
<span class="n">gem</span> <span class="s2">"middleman-blog"</span><span class="p">,</span> <span class="s2">"~&gt; 3.5.3"</span>

<span class="c1"># For feed.xml.builder</span>
<span class="n">gem</span> <span class="s2">"builder"</span><span class="p">,</span> <span class="s2">"~&gt; 3.0"</span>
</pre></td></tr></tbody></table>
</div>

<p>At this point you should now have a minimal blog built with Middleman! Let&rsquo;s get the server running so we can check it out.</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ middleman server
</pre></td></tr></tbody></table>
</div>

<p>Go to <code>http://localhost:4567</code> in your browser and you should see your new blog.</p>

<h2>Adding Livereload and Other Features</h2>

<p>When you set up your middleman blog there are a number of features that you will likely want to add. Let&rsquo;s add a few of them.</p>

<h3>Livereload</h3>

<p>Livereload is one of my favorite features. It allows you to make changes to your code and then (assuming your server is running) see instant changes in the browser without having to refresh the page.</p>

<p>Our first step is to add the middleman-livereload gem to our Gemfile:</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10</pre></td><td class="code"><pre><span class="c1"># If you have OpenSSL installed, we recommend updating</span>
<span class="c1"># the following line to use "https"</span>
<span class="n">source</span> <span class="s1">'http://rubygems.org'</span>

<span class="n">gem</span> <span class="s2">"middleman"</span><span class="p">,</span> <span class="s2">"~&gt; 3.3.9"</span>
<span class="n">gem</span> <span class="s2">"middleman-blog"</span><span class="p">,</span> <span class="s2">"~&gt; 3.5.3"</span>
<span class="n">gem</span> <span class="s2">"middleman-livereload"</span><span class="p">,</span> <span class="s2">"~&gt; 3.3.0"</span>

<span class="c1"># For feed.xml.builder</span>
<span class="n">gem</span> <span class="s2">"builder"</span><span class="p">,</span> <span class="s2">"~&gt; 3.0"</span>
</pre></td></tr></tbody></table>
</div>

<p>Now run bundle install to add the gem to your project:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ bundle install
</pre></td></tr></tbody></table>
</div>

<p>The next thing we have to do is activate Livereload in our <code>config.rb</code> file. If you scroll down to the bottom of config.rb you will see the Livereload option commented out. Uncomment it.</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="c1"># Reload the browser automatically whenever files change</span>
<span class="n">activate</span> <span class="ss">:livereload</span>
</pre></td></tr></tbody></table>
</div>

<p>If your server is still running, stop it and then restart it. Go to <code>http://localhost:4567</code> in your browser and keep the tab open. Next, go into your editor and delete the example markdown article. Once you do, your browser should refresh and the blog will be completely empty. Keep your server running and open a new tab in your terminal. Now run the following command:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ middleman article "Test Post"
</pre></td></tr></tbody></table>
</div>

<p>If you were watching your browser window you&rsquo;ll notice that the new test post was just added to the list of posts. Pretty neat eh?</p>

<p>Notice how I used the <code>middleman article &lt;article-name&gt;</code> command to create an article. This is how you create new blog posts in Middleman.</p>

<h3>Middleman Deploy</h3>

<p>The middleman-deploy gem allows us to easily deploy our static site to Github Pages or anywhere else we&rsquo;d like to host the files. I will show you how to set up deployment to Github pages.</p>

<p>Our first task is to add the gem to our Gemfile:</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11</pre></td><td class="code"><pre><span class="c1"># If you have OpenSSL installed, we recommend updating</span>
<span class="c1"># the following line to use "https"</span>
<span class="n">source</span> <span class="s1">'http://rubygems.org'</span>

<span class="n">gem</span> <span class="s2">"middleman"</span><span class="p">,</span> <span class="s2">"~&gt; 3.3.9"</span>
<span class="n">gem</span> <span class="s2">"middleman-blog"</span><span class="p">,</span> <span class="s2">"~&gt; 3.5.3"</span>
<span class="n">gem</span> <span class="s2">"middleman-deploy"</span><span class="p">,</span> <span class="s2">"~&gt; 1.0"</span>
<span class="n">gem</span> <span class="s2">"middleman-livereload"</span><span class="p">,</span> <span class="s2">"~&gt; 3.3.0"</span>

<span class="c1"># For feed.xml.builder</span>
<span class="n">gem</span> <span class="s2">"builder"</span><span class="p">,</span> <span class="s2">"~&gt; 3.0"</span>
</pre></td></tr></tbody></table>
</div>

<p>Next run bundle install:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ bundle install
</pre></td></tr></tbody></table>
</div>

<h4>Configurations</h4>

<p>As we saw before, you configure your app features in <code>config.rb</code>. This is where you configure all of your Middleman extensions. We&rsquo;ve added the Livereload extension already, but we still need to configure Middleman Deploy. Open up your config.rb file and add the middleman-deploy configuration just below the <code>:blog</code> configuration:</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></td><td class="code"><pre><span class="n">activate</span> <span class="ss">:blog</span> <span class="k">do</span> <span class="o">|</span><span class="n">blog</span><span class="o">|</span>
  <span class="c1"># This will add a prefix to all links, template references and source paths</span>
  <span class="c1"># blog.prefix = "blog"</span>

  <span class="c1"># blog.permalink = "{year}/{month}/{day}/{title}.html"</span>
  <span class="c1"># Matcher for blog source files</span>
  <span class="c1"># blog.sources = "articles/{year}-{month}-{day}-{title}.html"</span>
  <span class="c1"># blog.taglink = "tags/{tag}.html"</span>
  <span class="c1"># blog.layout = "layouts/blog"</span>
  <span class="c1"># blog.summary_separator = /(READMORE)/</span>
  <span class="c1"># blog.summary_length = 250</span>
  <span class="c1"># blog.year_link = "{year}.html"</span>
  <span class="c1"># blog.month_link = "{year}/{month}.html"</span>
  <span class="c1"># blog.day_link = "{year}/{month}/{day}.html"</span>
  <span class="c1"># blog.default_extension = ".markdown"</span>
  <span class="c1"># blog.new_article_template = "layouts/post"</span>

  <span class="n">blog</span><span class="p">.</span><span class="nf">tag_template</span> <span class="o">=</span> <span class="s2">"tag.html"</span>
  <span class="n">blog</span><span class="p">.</span><span class="nf">calendar_template</span> <span class="o">=</span> <span class="s2">"calendar.html"</span>

  <span class="c1"># Enable pagination</span>
  <span class="c1"># blog.paginate = true</span>
  <span class="c1"># blog.per_page = 10</span>
  <span class="c1"># blog.page_link = "page/{num}"</span>
<span class="k">end</span>

<span class="n">activate</span> <span class="ss">:deploy</span> <span class="k">do</span> <span class="o">|</span><span class="n">deploy</span><span class="o">|</span>
  <span class="n">deploy</span><span class="p">.</span><span class="nf">method</span> <span class="o">=</span> <span class="ss">:git</span>
  <span class="n">deploy</span><span class="p">.</span><span class="nf">branch</span> <span class="o">=</span> <span class="s1">'master'</span>
  <span class="n">deploy</span><span class="p">.</span><span class="nf">build_before</span> <span class="o">=</span> <span class="kp">true</span>
<span class="k">end</span>

<span class="n">activate</span> <span class="ss">:directory_indexes</span>
</pre></td></tr></tbody></table>
</div>

<p>We&rsquo;ve activated both the <code>:deploy</code> extension and the <code>:directory_indexes</code> extension.</p>

<h5>Set Up Git</h5>

<p>Before we can continue, we first need to initialize a git repository. In your terminal run the following command.</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ git init
</pre></td></tr></tbody></table>
</div>

<p>We need to set up git so that we can create two different branches to work with: Master and Source. Middleman Deploy will put our static files in the Master branch for us so we don&rsquo;t want to develop in that branch. We will do all of our development in the Source branch and then deploy to the master branch. Let&rsquo;s create the Source branch and push to Github.</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td><td class="code"><pre>$ git checkout -b source
$ git add -A
$ git commit -m "Initial commit"
</pre></td></tr></tbody></table>
</div>

<p>At this point we need to add the git remote for our github repository that we created earlier. You do this by running a command with the following format:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ git remote add origin https://github.com/&lt;username&gt;/&lt;username&gt;.github.io.git
</pre></td></tr></tbody></table>
</div>

<p>My username is ryanswapp so I add my remote by running the following command:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ git remote add origin https://github.com/ryanswapp/ryanswapp.github.io.git
</pre></td></tr></tbody></table>
</div>

<p>Once the remote has been added we can push our source files to a Source branch on Github with this command:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ git push --set-upstream origin source
</pre></td></tr></tbody></table>
</div>

<p>Check your github repository that you created and your source files should all be there. Our next step is to deploy!</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ middleman deploy
</pre></td></tr></tbody></table>
</div>

<p>Point your browser to <code>&lt;username&gt;.github.io</code> and you should see that your new blog is live. Mine is located at <code>ryanswapp.github.io</code>. Congratulations, you now have a blog powered by Middleman!</p>

<h3>Article Summaries</h3>

<p>Currently, if you post an article the entire post will be listed on the home page. I prefer that just a summary be available on the home page so I will show you how to do that. We first need to add the nokogiri gem to our Gemfile:</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12</pre></td><td class="code"><pre><span class="c1"># If you have OpenSSL installed, we recommend updating</span>
<span class="c1"># the following line to use "https"</span>
<span class="n">source</span> <span class="s1">'http://rubygems.org'</span>

<span class="n">gem</span> <span class="s2">"middleman"</span><span class="p">,</span> <span class="s2">"~&gt; 3.3.9"</span>
<span class="n">gem</span> <span class="s2">"middleman-blog"</span><span class="p">,</span> <span class="s2">"~&gt; 3.5.3"</span>
<span class="n">gem</span> <span class="s2">"middleman-deploy"</span><span class="p">,</span> <span class="s2">"~&gt; 1.0"</span>
<span class="n">gem</span> <span class="s2">"middleman-livereload"</span><span class="p">,</span> <span class="s2">"~&gt; 3.3.0"</span>
<span class="n">gem</span> <span class="s2">"nokogiri"</span>

<span class="c1"># For feed.xml.builder</span>
<span class="n">gem</span> <span class="s2">"builder"</span><span class="p">,</span> <span class="s2">"~&gt; 3.0"</span>
</pre></td></tr></tbody></table>
</div>

<p>Now run bundle install to add the gem to our project:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ bundle install
</pre></td></tr></tbody></table>
</div>

<p>We next need to use the summary method in our <code>index.html.erb</code> file that is in the source directory.</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre></td><td class="code"><pre>
<span class="c1"># The rest of the file has been omitted for brevity</span>

<span class="o">&lt;</span><span class="sx">% page_articles.each_with_index </span><span class="k">do</span> <span class="o">|</span><span class="n">article</span><span class="p">,</span> <span class="n">i</span><span class="o">|</span> <span class="sx">%&gt;
  &lt;h2&gt;</span><span class="o">&lt;</span><span class="sx">%= link_to article.title, article %&gt; &lt;span&gt;&lt;%=</span> <span class="n">article</span><span class="p">.</span><span class="nf">date</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s1">'%b %e'</span><span class="p">)</span> <span class="o">%&gt;&lt;</span><span class="sr">/span&gt;&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>
  <span class="o">&lt;!--</span> <span class="n">use</span> <span class="n">article</span><span class="p">.</span><span class="nf">summary</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span> <span class="k">if</span> <span class="n">you</span> <span class="n">have</span> <span class="no">Nokogiri</span> <span class="n">available</span> <span class="n">to</span> <span class="n">show</span> <span class="n">just</span>
       <span class="n">the</span> <span class="n">first</span> <span class="mi">250</span> <span class="n">characters</span> <span class="o">--&gt;</span>
  <span class="o">&lt;</span><span class="sx">%= article.summary(250) %&gt;
&lt;% end %&gt;

&lt;% if paginate %&gt;
  &lt;% if next_page %&gt;
    &lt;p&gt;&lt;%=</span> <span class="n">link_to</span> <span class="s1">'Next page'</span><span class="p">,</span> <span class="n">next_page</span> <span class="sx">%&gt;&lt;/p&gt;</span>
  <span class="o">&lt;</span><span class="sx">% end </span><span class="o">%&gt;</span>
<span class="o">&lt;</span><span class="sx">% end </span><span class="o">%&gt;</span>
</pre></td></tr></tbody></table>
</div>

<p>If your server is running you should now see that the home page only lists a 250 character summary of your post.</p>

<h3>Middleman Helpers</h3>

<p>Another useful feature of Middleman is that you can add helper methods to customize its functionality. You can declare these helper methods in <code>config.rb</code>. Towards the bottom of the page you should see something similar to this:</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td><td class="code"><pre><span class="c1"># Methods defined in the helpers block are available in templates</span>
<span class="c1"># helpers do</span>
<span class="c1">#   def some_helper</span>
<span class="c1">#     "Helping"</span>
<span class="c1">#   end</span>
<span class="c1"># end</span>
</pre></td></tr></tbody></table>
</div>

<p>When I first created a blog with Middleman I noticed that the summary of each blog post on the home page displayed the <code>h1</code> tags in my article. We obviously don&rsquo;t want to display the title twice (link and <code>h1</code>) so lets create a helper to remove the title from the summary. Replace the helper section in your <code>config.rb</code> file with the following:</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td><td class="code"><pre> <span class="c1"># Methods defined in the helpers block are available in templates</span>
 <span class="n">helpers</span> <span class="k">do</span>
   <span class="k">def</span> <span class="nf">strip_summary</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
     <span class="n">html</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">/&lt;h1.?&gt;.+&lt;\/h1&gt;/</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span>
   <span class="k">end</span>
 <span class="k">end</span>
</pre></td></tr></tbody></table>
</div>

<p>We have created a <code>strip_summary</code> helper method that will remove the <code>h1</code> from our home page summaries. Now we need to include it in our <code>index.html.erb</code> file:</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12</pre></td><td class="code"><pre><span class="o">&lt;</span><span class="sx">% page_articles.each_with_index </span><span class="k">do</span> <span class="o">|</span><span class="n">article</span><span class="p">,</span> <span class="n">i</span><span class="o">|</span> <span class="sx">%&gt;
  &lt;h2 class="article-link"&gt;</span><span class="o">&lt;</span><span class="sx">%= link_to article.title, article %&gt; &lt;span&gt;&lt;%=</span> <span class="n">article</span><span class="p">.</span><span class="nf">date</span><span class="p">.</span><span class="nf">strftime</span><span class="p">(</span><span class="s1">'%b %e'</span><span class="p">)</span> <span class="o">%&gt;&lt;</span><span class="sr">/span&gt;&lt;/</span><span class="n">h2</span><span class="o">&gt;</span>
  <span class="o">&lt;!--</span> <span class="n">use</span> <span class="n">article</span><span class="p">.</span><span class="nf">summary</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span> <span class="k">if</span> <span class="n">you</span> <span class="n">have</span> <span class="no">Nokogiri</span> <span class="n">available</span> <span class="n">to</span> <span class="n">show</span> <span class="n">just</span>
       <span class="n">the</span> <span class="n">first</span> <span class="mi">250</span> <span class="n">characters</span> <span class="o">--&gt;</span>
  <span class="o">&lt;</span><span class="sx">%= strip_summary article.summary(250) %&gt;
&lt;% end %&gt;

&lt;% if paginate %&gt;
  &lt;% if next_page %&gt;
    &lt;p&gt;&lt;%=</span> <span class="n">link_to</span> <span class="s1">'Next page'</span><span class="p">,</span> <span class="n">next_page</span> <span class="sx">%&gt;&lt;/p&gt;</span>
  <span class="o">&lt;</span><span class="sx">% end </span><span class="o">%&gt;</span>
<span class="o">&lt;</span><span class="sx">% end </span><span class="o">%&gt;</span>
</pre></td></tr></tbody></table>
</div>

<p>If you still have your server running you will see that the title no longer shows up in your summary. Success!</p>

<h3>Syntax Highlighting</h3>

<p>I assume that anyone reading this blog post is a programmer so you will likely want to support syntax highlighting in your blog posts. We will set this up by first adding the redcarpet and middleman-syntax gems:</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre></td><td class="code"><pre><span class="c1"># If you have OpenSSL installed, we recommend updating</span>
<span class="c1"># the following line to use "https"</span>
<span class="n">source</span> <span class="s1">'http://rubygems.org'</span>

<span class="n">gem</span> <span class="s2">"middleman"</span><span class="p">,</span> <span class="s2">"~&gt; 3.3.9"</span>
<span class="n">gem</span> <span class="s2">"middleman-blog"</span><span class="p">,</span> <span class="s2">"~&gt; 3.5.3"</span>
<span class="n">gem</span> <span class="s2">"middleman-deploy"</span><span class="p">,</span> <span class="s2">"~&gt; 1.0"</span>
<span class="n">gem</span> <span class="s2">"middleman-livereload"</span><span class="p">,</span> <span class="s2">"~&gt; 3.3.0"</span>
<span class="n">gem</span> <span class="s2">"middleman-syntax"</span>
<span class="n">gem</span> <span class="s2">"redcarpet"</span>
<span class="n">gem</span> <span class="s2">"nokogiri"</span>

<span class="c1"># For feed.xml.builder</span>
<span class="n">gem</span> <span class="s2">"builder"</span><span class="p">,</span> <span class="s2">"~&gt; 3.0"</span>
</pre></td></tr></tbody></table>
</div>

<p>Run bundle install to add the gems to your project:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$ bundle install
</pre></td></tr></tbody></table>
</div>

<p>Now we need to activate the gems in our <code>config.rb</code> file. Place the following code underneath your <code>:deploy</code> configuration:</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11</pre></td><td class="code"><pre><span class="n">activate</span> <span class="ss">:deploy</span> <span class="k">do</span> <span class="o">|</span><span class="n">deploy</span><span class="o">|</span>
  <span class="n">deploy</span><span class="p">.</span><span class="nf">method</span> <span class="o">=</span> <span class="ss">:git</span>
  <span class="n">deploy</span><span class="p">.</span><span class="nf">branch</span> <span class="o">=</span> <span class="s1">'master'</span>
  <span class="n">deploy</span><span class="p">.</span><span class="nf">build_before</span> <span class="o">=</span> <span class="kp">true</span>
<span class="k">end</span>

<span class="n">activate</span> <span class="ss">:directory_indexes</span>

<span class="n">activate</span> <span class="ss">:syntax</span><span class="p">,</span> <span class="ss">:line_numbers</span> <span class="o">=&gt;</span> <span class="kp">true</span>
<span class="n">set</span> <span class="ss">:markdown_engine</span><span class="p">,</span> <span class="ss">:redcarpet</span>
<span class="n">set</span> <span class="ss">:markdown</span><span class="p">,</span> <span class="ss">:fenced_code_blocks</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">,</span> <span class="ss">:smartypants</span> <span class="o">=&gt;</span> <span class="kp">true</span>
</pre></td></tr></tbody></table>
</div>

<p>In this code we are turning on line numbers in our code blocks and setting the markdown engine to redcarpet. In addition, you may have noticed that our helper broke. The <code>h1</code> of our posts is now showing in the summary. This is because redcarpet does not add html attributes to elements like the default markdown engine and our regular expression won&rsquo;t catch regular elements. To fix it we need to make the regular expression more basic. Change the helper to:</p>
<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td><td class="code"><pre><span class="c1"># Methods defined in the helpers block are available in templates</span>
<span class="n">helpers</span> <span class="k">do</span>
  <span class="k">def</span> <span class="nf">strip_summary</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
    <span class="n">html</span><span class="p">.</span><span class="nf">gsub</span><span class="p">(</span><span class="sr">/&lt;h1&gt;.+&lt;\/h1&gt;/</span><span class="p">,</span> <span class="s2">""</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></td></tr></tbody></table>
</div>

<p>Now the summary should be fine. At this point you can add code to a post like so:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td><td class="code"><pre>```ruby
def cool
  puts "I'm cool"
end
```
</pre></td></tr></tbody></table>
</div>

<p>The code is pretty ugly&hellip; Let&rsquo;s add some styling so it doesn&rsquo;t look so bad. Create a <code>base.css.scss</code> file in your <code>source/stylesheets/</code> directory. Copy and paste the following styles into that file:</p>
<div class="highlight css"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112</pre></td><td class="code"><pre><span class="o">//</span> <span class="nt">Syntax</span> <span class="nt">Highlighting</span>
<span class="o">//</span><span class="nc">.highlight</span> <span class="p">{</span> <span class="nl">background-color</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">240</span><span class="p">,</span><span class="m">240</span><span class="p">,</span><span class="m">240</span><span class="p">,</span><span class="m">.5</span><span class="p">)</span> <span class="p">}</span>
<span class="nc">.c</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#999988</span><span class="p">;</span> <span class="nl">font-style</span><span class="p">:</span> <span class="nb">italic</span> <span class="p">}</span> <span class="c">/* Comment */</span>
<span class="nc">.err</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#a61717</span><span class="p">;</span> <span class="nl">background-color</span><span class="p">:</span> <span class="m">#e3d2d2</span> <span class="p">}</span> <span class="c">/* Error */</span>
<span class="nc">.k</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#000000</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Keyword */</span>
<span class="nc">.o</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#000000</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Operator */</span>
<span class="nc">.cm</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#999988</span><span class="p">;</span> <span class="nl">font-style</span><span class="p">:</span> <span class="nb">italic</span> <span class="p">}</span> <span class="c">/* Comment.Multiline */</span>
<span class="nc">.cp</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#999999</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span><span class="p">;</span> <span class="nl">font-style</span><span class="p">:</span> <span class="nb">italic</span> <span class="p">}</span> <span class="c">/* Comment.Preproc */</span>
<span class="nc">.c1</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#999988</span><span class="p">;</span> <span class="nl">font-style</span><span class="p">:</span> <span class="nb">italic</span> <span class="p">}</span> <span class="c">/* Comment.Single */</span>
<span class="nc">.cs</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#999999</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span><span class="p">;</span> <span class="nl">font-style</span><span class="p">:</span> <span class="nb">italic</span> <span class="p">}</span> <span class="c">/* Comment.Special */</span>
<span class="nc">.gd</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#000000</span><span class="p">;</span> <span class="nl">background-color</span><span class="p">:</span> <span class="m">#ffdddd</span> <span class="p">}</span> <span class="c">/* Generic.Deleted */</span>
<span class="nc">.ge</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#000000</span><span class="p">;</span> <span class="nl">font-style</span><span class="p">:</span> <span class="nb">italic</span> <span class="p">}</span> <span class="c">/* Generic.Emph */</span>
<span class="nc">.gr</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#aa0000</span> <span class="p">}</span> <span class="c">/* Generic.Error */</span>
<span class="nc">.gh</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#999999</span> <span class="p">}</span> <span class="c">/* Generic.Heading */</span>
<span class="nc">.gi</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#000000</span><span class="p">;</span> <span class="nl">background-color</span><span class="p">:</span> <span class="m">#ddffdd</span> <span class="p">}</span> <span class="c">/* Generic.Inserted */</span>
<span class="nc">.go</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#888888</span> <span class="p">}</span> <span class="c">/* Generic.Output */</span>
<span class="nc">.gp</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#555555</span> <span class="p">}</span> <span class="c">/* Generic.Prompt */</span>
<span class="nc">.gs</span> <span class="p">{</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Generic.Strong */</span>
<span class="nc">.gu</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#aaaaaa</span> <span class="p">}</span> <span class="c">/* Generic.Subheading */</span>
<span class="nc">.gt</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#aa0000</span> <span class="p">}</span> <span class="c">/* Generic.Traceback */</span>
<span class="nc">.kc</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#000000</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Keyword.Constant */</span>
<span class="nc">.kd</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#000000</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Keyword.Declaration */</span>
<span class="nc">.kn</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#000000</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Keyword.Namespace */</span>
<span class="nc">.kp</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#000000</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Keyword.Pseudo */</span>
<span class="nc">.kr</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#000000</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Keyword.Reserved */</span>
<span class="nc">.kt</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#445588</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Keyword.Type */</span>
<span class="nc">.m</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#009999</span> <span class="p">}</span> <span class="c">/* Literal.Number */</span>
<span class="nc">.s</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#d01040</span> <span class="p">}</span> <span class="c">/* Literal.String */</span>
<span class="nc">.na</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#008080</span> <span class="p">}</span> <span class="c">/* Name.Attribute */</span>
<span class="nc">.nb</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#0086B3</span> <span class="p">}</span> <span class="c">/* Name.Builtin */</span>
<span class="nc">.nc</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#445588</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Name.Class */</span>
<span class="nc">.no</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#008080</span> <span class="p">}</span> <span class="c">/* Name.Constant */</span>
<span class="nc">.nd</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#3c5d5d</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Name.Decorator */</span>
<span class="nc">.ni</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#800080</span> <span class="p">}</span> <span class="c">/* Name.Entity */</span>
<span class="nc">.ne</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#990000</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Name.Exception */</span>
<span class="nc">.nf</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#990000</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Name.Function */</span>
<span class="nc">.nl</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#990000</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Name.Label */</span>
<span class="nc">.nn</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#555555</span> <span class="p">}</span> <span class="c">/* Name.Namespace */</span>
<span class="nc">.nt</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#000080</span> <span class="p">}</span> <span class="c">/* Name.Tag */</span>
<span class="nc">.nv</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#008080</span> <span class="p">}</span> <span class="c">/* Name.Variable */</span>
<span class="nc">.ow</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#000000</span><span class="p">;</span> <span class="nl">font-weight</span><span class="p">:</span> <span class="nb">bold</span> <span class="p">}</span> <span class="c">/* Operator.Word */</span>
<span class="nc">.w</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#bbbbbb</span> <span class="p">}</span> <span class="c">/* Text.Whitespace */</span>
<span class="nc">.mf</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#009999</span> <span class="p">}</span> <span class="c">/* Literal.Number.Float */</span>
<span class="nc">.mh</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#009999</span> <span class="p">}</span> <span class="c">/* Literal.Number.Hex */</span>
<span class="nc">.mi</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#009999</span> <span class="p">}</span> <span class="c">/* Literal.Number.Integer */</span>
<span class="nc">.mo</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#009999</span> <span class="p">}</span> <span class="c">/* Literal.Number.Oct */</span>
<span class="nc">.sb</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#d01040</span> <span class="p">}</span> <span class="c">/* Literal.String.Backtick */</span>
<span class="nc">.sc</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#d01040</span> <span class="p">}</span> <span class="c">/* Literal.String.Char */</span>
<span class="nc">.sd</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#d01040</span> <span class="p">}</span> <span class="c">/* Literal.String.Doc */</span>
<span class="nc">.s2</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#d01040</span> <span class="p">}</span> <span class="c">/* Literal.String.Double */</span>
<span class="nc">.se</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#d01040</span> <span class="p">}</span> <span class="c">/* Literal.String.Escape */</span>
<span class="nc">.sh</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#d01040</span> <span class="p">}</span> <span class="c">/* Literal.String.Heredoc */</span>
<span class="nc">.si</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#d01040</span> <span class="p">}</span> <span class="c">/* Literal.String.Interpol */</span>
<span class="nc">.sx</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#d01040</span> <span class="p">}</span> <span class="c">/* Literal.String.Other */</span>
<span class="nc">.sr</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#009926</span> <span class="p">}</span> <span class="c">/* Literal.String.Regex */</span>
<span class="nc">.s1</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#d01040</span> <span class="p">}</span> <span class="c">/* Literal.String.Single */</span>
<span class="nc">.ss</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#990073</span> <span class="p">}</span> <span class="c">/* Literal.String.Symbol */</span>
<span class="nc">.bp</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#999999</span> <span class="p">}</span> <span class="c">/* Name.Builtin.Pseudo */</span>
<span class="nc">.vc</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#008080</span> <span class="p">}</span> <span class="c">/* Name.Variable.Class */</span>
<span class="nc">.vg</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#008080</span> <span class="p">}</span> <span class="c">/* Name.Variable.Global */</span>
<span class="nc">.vi</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#008080</span> <span class="p">}</span> <span class="c">/* Name.Variable.Instance */</span>
<span class="nc">.il</span> <span class="p">{</span> <span class="nl">color</span><span class="p">:</span> <span class="m">#009999</span> <span class="p">}</span> <span class="c">/* Literal.Number.Integer.Long */</span>

<span class="nc">.highlight</span> <span class="p">{</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">25px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.highlight</span> <span class="nc">.code</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="n">calc</span><span class="p">(</span><span class="m">100%</span> <span class="n">-</span> <span class="m">50px</span><span class="p">);</span>
  <span class="nl">overflow-y</span><span class="p">:</span> <span class="nb">scroll</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.highlight</span> <span class="nt">pre</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#999</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">16px</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span> <span class="m">12px</span><span class="p">;</span>
  <span class="nl">line-height</span><span class="p">:</span> <span class="m">28px</span><span class="p">;</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
  <span class="nl">white-space</span><span class="p">:</span> <span class="n">pre</span><span class="p">;</span>
  <span class="nl">overflow-x</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>
  <span class="nl">word-break</span><span class="p">:</span> <span class="nb">inherit</span><span class="p">;</span>
  <span class="nl">word-wrap</span><span class="p">:</span> <span class="nb">inherit</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.highlight</span> <span class="nt">table</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">table-layout</span><span class="p">:</span> <span class="nb">fixed</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.highlight</span> <span class="nt">td</span> <span class="p">{</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.highlight</span> <span class="nt">tr</span> <span class="p">{</span>
  <span class="nl">border</span><span class="p">:</span> <span class="nb">solid</span> <span class="m">1px</span> <span class="m">#ddd</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.highlight</span> <span class="nc">.gutter</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">50px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.gl</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#fafafa</span><span class="p">;</span>
  <span class="nl">border-right</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#ddd</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#999</span><span class="p">;</span>

  <span class="c">/* Stop line numbers being visually selected */</span>
  <span class="nl">-webkit-touch-callout</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">-webkit-user-select</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">-khtml-user-select</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">-moz-user-select</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">-ms-user-select</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="py">user-select</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table>
</div>

<p>Now add the following code to the head section of your <code>layout.erb</code> file:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>&lt;%= stylesheet_link_tag 'base' %&gt;
</pre></td></tr></tbody></table>
</div>

<p>This is how you link to a stylesheet in erb. Now your code should look just like mine!</p>

<p>Let&rsquo;s push our code to Github and deploy our new changes:</p>
<div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre>$ git add -A
$ git commit -m "Added livereload, helpers, and syntax highlighting"
$ git push --set-upstream origin source
$ middleman deploy
</pre></td></tr></tbody></table>
</div>

<h2>Conclusion</h2>

<p>You should now have a Middleman blog up and running and all that is left to do is add some styling. I recommend trying out the excellent <a href="http://getskeleton.com/">Skeleton CSS</a> boilerplate. It is lightweight and adds some simple styles as well as a grid. I have moved away from using Bootstrap and Foundation because of the bloat that comes with them. Skeleton is now my go-to boilerplate code.</p>

<p>If you have any questions please feel free to leave them in the comments. In addition, if you&rsquo;d like me to add anything else to the tutorial please leave a comment or send an email to ryan@swapp.sexy. Thanks!</p>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES * * */
            var disqus_shortname = 'swappsexy';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
      </div>
      <div class="three columns">
        <aside class="sidebar">
          <h5>Recent Articles</h5>
          <ol>
                <li><a href="/2015/02/26/build-a-blog-with-middleman-and-host-on-github-pages/">Build a Blog with Middleman and Host on Github Pages</a> <span>Feb 26</span></li>
                <li><a href="/2015/02/20/welcome-to-swappticon/">Welcome to SWAPP.SEXY</a> <span>Feb 20</span></li>
          </ol>

          <h5>Tags</h5>
          <ol>
                <li><a href="/tags/announcement/">announcement (1)</a></li>
                <li><a href="/tags/ruby/">ruby (1)</a></li>
          </ol>

          <h5>By Year</h5>
          <ol>
                <li><a href="/2015/">2015 (2)</a></li>
          </ol>
        </aside>
      </div>
    </div>
  </div>
</div>

<script src="/javascripts/modernizr.custom-b2be4ef8.js" type="text/javascript"></script>
<script src="//use.typekit.net/osk0qrt.js"></script>
<script>try{Typekit.load();}catch(e){}</script>
<script src="/javascripts/all-c722bed9.js" type="text/javascript"></script>
</body>
</html>